<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>구독</title>
    <style>
      button {
        width: 60px;
        height: 30px;
        color: #fff;
        border-radius: 5px;
        border: none;
        margin-bottom: 10px;
      }
      button.unclicked {
        background: red;
      }
      button.clicked {
        background: #ccc;
        color: #333;
      }
    </style>
  </head>
  <body>
    <div id="app"></div>

    <script
      src="https://unpkg.com/react@17/umd/react.production.min.js"
      crossorigin
    ></script>
    <script
      src="https://unpkg.com/react-dom@17/umd/react-dom.production.min.js"
      crossorigin
    ></script>
    <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
    <script type="text/babel">
      const SubBtn = () => {
        //컴포넌트 생성
        const [value, setValue] = React.useState("구독"); //변하는 값이 무엇인지 먼저 파악하고 변수 선언해준다.
        const [background, setBackground] = React.useState("unclicked");

        function onClickBtn() {
          if (value === "구독") {
            setValue("구독중"); //useState를 이용하여 상태 변화시킴.
            setBackground("clicked");
          } else {
            setValue("구독");
            setBackground("unclicked");
          }
        }

        return (
          //일반적인 HTML과 같은 역할 but 엄연히 XML이기 때문에 뒤에 /추가 필수
          <div>
            <button onClick={onClickBtn} className={background}>
              {value}
            </button>
          </div>
        );
      };

      const app = //컴포넌트 넣어줌. 컴포넌트 여러개도 사용할 수 있음.
        (
          <div>
            <SubBtn />
            <SubBtn />
            <SubBtn />
          </div>
        );

      const here = document.querySelector("#app");

      ReactDOM.render(app, here); //app을 here에 그려준다(render).

      //JS대신 React를 사용했을 때 장점?

      //1. 코드의 가독성- 리엑트가 확실히 더 직관적이다. JS의 복잡한 문법과 메서드를 잘 모르더라도 충분히 코드를 작성할 수 있고 이해하기도 쉽다. 코드 자체도 비교적 쉽고 간결하다.

      //2. 여러 단계를 거칠 필요없이 바로 상태를 변환할 수 있기 때문에 쉽다.
      //JS는 querySelector, getElementById 등을 사용하여 변수를 지정해준 후 함수를 통해 상태를 바꿔주어야하는데,
      // 리엑트는 이런 복잡한 과정 없이 바로 state를 변화시켜 상태를 바꿔줄 수 있다. 확실히 훨씬 간편하다.

      //3. 컴포넌트를 사용함으로써 코드의 중복을 줄여줄 수 있다.
      //일부러 구독버튼을 3개나 만들어보았다. 리엑트를 사용하기 전에는 HTML에 중복된 코드 3개를 넣을 수 밖에 없었는데,
      //리엑트를 사용하니 컴포넌트를 하나만 생성하고 해당 컴포넌트를 3개 넣어주면 되었다. 코드를 한번만 작성하면되니 중복된 코드를 줄일 수 있었다.
      //만약 짧은 코드가 아니라 몇백줄짜리 긴 코드였다고 생각해보면 혁명적으로 코드를 간결하게 줄일 수 있는 것이다.
      //그리고 수정할 때도 한번만 수정하면 되니, 유지보수에도 훨씬 좋을 것 같다.
    </script>
  </body>
</html>
